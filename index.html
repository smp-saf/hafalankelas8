<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <title>Playlist Al-Baqarah (Ayat 67–114)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:#f7fbff; color:#21303a; padding:20px; }
    h1 { color:#2da5dd; margin-bottom:8px; text-align:center; }
    #player { width:100%; max-width:900px; margin:20px auto; display:block; }
    #container { max-width:900px; margin:0 auto; }
    #playlist { list-style:none; padding:0; margin:0; }
    #playlist li { padding:10px 12px; margin:6px 0; background:#e6f2fb; border:1px solid #cfeefa; border-radius:8px; cursor:pointer; transition:background .15s; }
    #playlist li:hover { background:#d5ecfb; }
    #playlist li.active { background:#2da5dd; color:white; font-weight:600; }
    .meta { font-size:0.9rem; color:#4a4a4a; margin-bottom:10px; text-align:center; }
    footer { font-size:0.85rem; color:#666; margin-top:18px; text-align:center; }
  </style>
</head>
<body>
  <div id="container">
    <h1>Playlist — Surah Al-Baqarah (Ayat 67–114)</h1>
    <div class="meta">Klik salah satu ayat untuk memutar. Pemutaran otomatis lanjut ke ayat berikutnya setelah selesai.</div>

    <audio id="player" controls preload="none"></audio>

    <ul id="playlist"></ul>

    <footer>Hosted on GitHub Pages • Jika pemutaran otomatis tidak bekerja, tekan tombol Play pada pemutar.</footer>
  </div>

  <script>
    // --- repo kamu ---
    const GITHUB_USER = 'smp-saf';
    const GITHUB_REPO = 'hafalankelas8';
    const GITHUB_BRANCH = 'main';
    const baseRaw = `https://raw.githubusercontent.com/${GITHUB_USER}/${GITHUB_REPO}/${GITHUB_BRANCH}/`;

    // --- daftar file mp3 persis seperti di repo ---
    const files = [
      "067 Al-Baqarah ayat 67.mp3",
      "068 Al-Baqarah ayat 68.mp3",
      "069 Al-Baqarah ayat 69.mp3",
      "070 Al-Baqarah ayat 70.mp3",
      "071 Al-Baqarah ayat 71.mp3",
      "072 Al-Baqarah ayat 72.mp3",
      "073 Al-Baqarah ayat 73.mp3",
      "074 Al-Baqarah ayat 74.mp3",
      "075 Al-Baqarah ayat 75.mp3",
      "076 Al-Baqarah ayat 76.mp3",
      "077 Al-Baqarah ayat 77.mp3",
      "078 Al-Baqarah ayat 78.mp3",
      "079 Al-Baqarah ayat 79.mp3",
      "080 Al-Baqarah ayat 80.mp3",
      "081 Al-Baqarah ayat 81.mp3",
      "082 Al-Baqarah ayat 82.mp3",
      "083 Al-Baqarah ayat 83.mp3",
      "084 Al-Baqarah ayat 84.mp3",
      "085 Al-Baqarah ayat 85.mp3",
      "086 Al-Baqarah ayat 86.mp3",
      "087 Al-Baqarah ayat 87.mp3",
      "088 Al-Baqarah ayat 88.mp3",
      "089 Al-Baqarah ayat 89.mp3",
      "090 Al-Baqarah ayat 90.mp3",
      "091 Al-Baqarah ayat 91.mp3",
      "092 Al-Baqarah ayat 92.mp3",
      "093 Al-Baqarah ayat 93.mp3",
      "094 Al-Baqarah ayat 94.mp3",
      "095 Al-Baqarah ayat 95.mp3",
      "096 Al-Baqarah ayat 96.mp3",
      "097 Al-Baqarah ayat 97.mp3",
      "098 Al-Baqarah ayat 98.mp3",
      "099 Al-Baqarah ayat 99.mp3",
      "100 Al-Baqarah ayat 100.mp3",
      "101 Al-Baqarah ayat 101.mp3",
      "102 Al-Baqarah ayat 102.mp3",
      "103 Al-Baqarah ayat 103.mp3",
      "104 Al-Baqarah ayat 104.mp3",
      "105 Al-Baqarah ayat 105.mp3",
      "106 Al-Baqarah ayat 106.mp3",
      "107 Al-Baqarah ayat 107.mp3",
      "108 Al-Baqarah ayat 108.mp3",
      "109 Al-Baqarah ayat 109.mp3",
      "110 Al-Baqarah ayat 110.mp3",
      "111 Al-Baqarah ayat 111.mp3",
      "112 Al-Baqarah ayat 112.mp3",
      "113 Al-Baqarah ayat 113.mp3",
      "114 Al-Baqarah ayat 114.mp3"
    ];

    const playlistEl = document.getElementById('playlist');
    const player = document.getElementById('player');
    let currentIndex = 0;

    // Build playlist UI
    files.forEach((name, idx) => {
      const li = document.createElement('li');
      li.textContent = name.replace(/\.mp3$/,''); // tampilkan tanpa .mp3
      li.dataset.src = baseRaw + encodeURIComponent(name);
      li.addEventListener('click', () => playTrack(idx));
      playlistEl.appendChild(li);
    });

    const items = playlistEl.querySelectorAll('li');

    function setActive(i) {
      items.forEach(x => x.classList.remove('active'));
      if (items[i]) items[i].classList.add('active');
    }

    function playTrack(i) {
      if (i < 0 || i >= items.length) return;
      currentIndex = i;
      const src = items[i].dataset.src;
      player.src = src;
      setActive(i);
      player.play().catch(err => {
        console.log('Autoplay blocked or play failed:', err);
      });
    }

    // Auto next on ended
    player.addEventListener('ended', () => {
      if (currentIndex < items.length - 1) {
        playTrack(currentIndex + 1);
      }
    });

    // Set first track
    setActive(0);
  </script>
</body>
</html>
