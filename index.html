<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <title>Playlist Al-Baqarah (Ayat 58–105)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --blue:#2da5dd;
      --muted:#e6f2fb;
      --muted-2:#d5ecfb;
      --text:#21303a;
    }
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:#f7fbff; color:var(--text); padding:18px; }
    #container { max-width:980px; margin:0 auto; }
    h1 { color:var(--blue); text-align:center; margin:6px 0 8px; }
    .meta { text-align:center; color:#4a4a4a; margin-bottom:12px; font-size:0.95rem; }
    audio#player { width:100%; display:block; margin:12px auto; max-width:900px; }
    .controls { text-align:center; margin-bottom:10px; }
    .btn {
      display:inline-block;
      margin:0 6px;
      padding:8px 12px;
      border-radius:8px;
      background:var(--blue);
      color:white; border:none;
      cursor:pointer;
      font-weight:600;
    }
    .btn:disabled { opacity:0.6; cursor:default; }
    #playlist { list-style:none; padding:0; margin:12px 0 0; max-width:900px; margin-left:auto; margin-right:auto; }
    #playlist li {
      padding:12px 14px;
      margin:7px 0;
      background:var(--muted);
      border:1px solid #cfeefa;
      border-radius:10px;
      cursor:pointer;
      transition:background .12s, transform .06s;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    #playlist li:hover { background:var(--muted-2); transform:translateY(-1px); }
    #playlist li.active { background:var(--blue); color:white; font-weight:700; }
    .track-label { text-align:left; }
    .track-number { font-size:0.9rem; color:#666; margin-right:10px; min-width:48px; text-align:right; }
    footer { text-align:center; color:#666; margin-top:16px; font-size:0.85rem; }
    @media (max-width:520px) {
      .track-number { display:none; }
      .btn { padding:7px 10px; margin:0 4px; }
    }
  </style>
</head>
<body>
  <div id="container">
    <h1>Playlist — Surah Al-Baqarah (Ayat 58–105)</h1>
    <div class="meta">Klik salah satu ayat untuk memutar. Pemutaran otomatis lanjut ke ayat berikutnya setelah selesai. Gunakan tombol Prev / Next untuk navigasi cepat.</div>

    <audio id="player" controls preload="none"></audio>

    <div class="controls">
      <button id="prevBtn" class="btn">Prev</button>
      <button id="nextBtn" class="btn">Next</button>
    </div>

    <ul id="playlist"></ul>

    <footer>Hosted on GitHub Pages • Jika pemutaran otomatis tidak bekerja, tekan Play pada pemutar (beberapa browser memblokir autoplay).</footer>
  </div>

  <script>
    // repo info
    const baseRaw = "https://raw.githubusercontent.com/smp-saf/hafalankelas8/main/";

    // daftar nama file sesuai repo (persis seperti yang kamu kirim)
    const files = [
      "067 Al-Baqarah ayat 58.mp3",
      "068 Al-Baqarah ayat 59.mp3",
      "069 Al-Baqarah ayat 60.mp3",
      "070 Al-Baqarah ayat 61.mp3",
      "071 Al-Baqarah ayat 62.mp3",
      "072 Al-Baqarah ayat 63.mp3",
      "073 Al-Baqarah ayat 64.mp3",
      "074 Al-Baqarah ayat 65.mp3",
      "075 Al-Baqarah ayat 66.mp3",
      "076 Al-Baqarah ayat 67.mp3",
      "077 Al-Baqarah ayat 68.mp3",
      "078 Al-Baqarah ayat 69.mp3",
      "079 Al-Baqarah ayat 70.mp3",
      "080 Al-Baqarah ayat 71.mp3",
      "081 Al-Baqarah ayat 72.mp3",
      "082 Al-Baqarah ayat 73.mp3",
      "083 Al-Baqarah ayat 74.mp3",
      "084 Al-Baqarah ayat 75.mp3",
      "085 Al-Baqarah ayat 76.mp3",
      "086 Al-Baqarah ayat 77.mp3",
      "087 Al-Baqarah ayat 78.mp3",
      "088 Al-Baqarah ayat 79.mp3",
      "089 Al-Baqarah ayat 80.mp3",
      "090 Al-Baqarah ayat 81.mp3",
      "091 Al-Baqarah ayat 82.mp3",
      "092 Al-Baqarah ayat 83.mp3",
      "093 Al-Baqarah ayat 84.mp3",
      "094 Al-Baqarah ayat 85.mp3",
      "095 Al-Baqarah ayat 86.mp3",
      "096 Al-Baqarah ayat 87.mp3",
      "097 Al-Baqarah ayat 88.mp3",
      "098 Al-Baqarah ayat 89.mp3",
      "099 Al-Baqarah ayat 90.mp3",
      "100 Al-Baqarah ayat 91.mp3",
      "101 Al-Baqarah ayat 92.mp3",
      "102 Al-Baqarah ayat 93.mp3",
      "103 Al-Baqarah ayat 94.mp3",
      "104 Al-Baqarah ayat 95.mp3",
      "105 Al-Baqarah ayat 96.mp3",
      "106 Al-Baqarah ayat 97.mp3",
      "107 Al-Baqarah ayat 98.mp3",
      "108 Al-Baqarah ayat 99.mp3",
      "109 Al-Baqarah ayat 100.mp3",
      "110 Al-Baqarah ayat 101.mp3",
      "111 Al-Baqarah ayat 102.mp3",
      "112 Al-Baqarah ayat 103.mp3",
      "113 Al-Baqarah ayat 104.mp3",
      "114 Al-Baqarah ayat 105.mp3"
    ];

    const playlistEl = document.getElementById('playlist');
    const player = document.getElementById('player');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    let current = 0;

    // helper: label (tampilkan "Ayat N" jika tersedia)
    function labelFromName(name){
      const m = name.match(/ayat\s*(\d+)/i);
      if(m) return "Ayat " + m[1];
      return name.replace(/\.mp3$/i,'');
    }

    // build UI
    files.forEach((name, idx) => {
      const li = document.createElement('li');
      li.className = "";
      const left = document.createElement('div');
      left.style.display = "flex";
      left.style.alignItems = "center";

      const num = document.createElement('div');
      num.className = "track-number";
      num.textContent = (idx+1).toString().padStart(2,'0');

      const label = document.createElement('div');
      label.className = "track-label";
      label.textContent = labelFromName(name);

      left.appendChild(num);
      left.appendChild(label);

      li.appendChild(left);

      li.addEventListener('click', () => { playTrack(idx); });
      li.dataset.src = baseRaw + encodeURIComponent(name);

      playlistEl.appendChild(li);
    });

    const items = playlistEl.querySelectorAll('li');

    function setActive(i){
      items.forEach(x => x.classList.remove('active'));
      if(items[i]) items[i].classList.add('active');
      // enable/disable prev/next
      prevBtn.disabled = (i <= 0);
      nextBtn.disabled = (i >= items.length - 1);
    }

    function playTrack(i){
      if(i < 0 || i >= items.length) return;
      current = i;
      const src = items[i].dataset.src;
      player.src = src;
      setActive(i);
      player.play().catch(err => {
        console.warn("Play blocked or failed:", err);
      });
    }

    function nextTrack(){
      if(current < items.length - 1) playTrack(current + 1);
    }
    function prevTrack(){
      if(current > 0) playTrack(current - 1);
    }

    // events
    player.addEventListener('ended', nextTrack);
    nextBtn.addEventListener('click', nextTrack);
    prevBtn.addEventListener('click', prevTrack);

    // init
    setActive(0);
    // do not force autoplay; user can click play or a track
    // optional: try to load first track so UI ready (but not autoplay)
    items[0] && (player.src = items[0].dataset.src);

    // debug helper: if file not reachable, console shows 404 - you can open raw link in browser to test
  </script>
</body>
</html>
